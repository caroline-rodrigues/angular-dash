{"version":3,"sources":["webpack:///./src/app/vehicle/vehicle.component.html","webpack:///./src/app/vehicle/vehicle.component.ts","webpack:///./src/app/vehicle/vehicle.module.ts","webpack:///./src/app/vehicle/vehicle.routing.ts"],"names":[],"mappings":"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","file":"vehicle-vehicle-module.js","sourcesContent":["module.exports = \"<div class=\\\"main-content\\\">\\n  <div class=\\\"container-fluid\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md-12\\\">\\n        <div class=\\\"card\\\" style=\\\"padding: 0.5rem\\\">\\n          <div class=\\\"header\\\">\\n            <div style=\\\"display: flex; justify-content: space-between\\\">\\n              <h4 class=\\\"title\\\">Veículos</h4>\\n              <button\\n                class=\\\"btn btn-success btn-fill btn-wd\\\"\\n                routerLink=\\\"/components/new-vehicle\\\"\\n              >\\n                Novo Veículo\\n              </button>\\n            </div>\\n            <form role=\\\"search\\\" style=\\\"padding-top: 1rem\\\">\\n              <div class=\\\"input-group\\\">\\n                <input\\n                  type=\\\"text\\\"\\n                  value=\\\"\\\"\\n                  class=\\\"form-control w-100\\\"\\n                  placeholder=\\\"Search...\\\"\\n                  [(ngModel)]=\\\"searchQuery\\\"\\n                  name=\\\"search\\\"\\n                  (input)=\\\"filterItems()\\\"\\n                />\\n                <span class=\\\"input-group-addon\\\">\\n                  <i class=\\\"fa fa-search\\\"></i>\\n                </span>\\n              </div>\\n            </form>\\n          </div>\\n          <div class=\\\"content table-responsive table-full-width\\\">\\n            <table class=\\\"table\\\" (onDeleteRent)=\\\"onDeletedRent($event)\\\">\\n              <thead>\\n                <tr>\\n                  <th class=\\\"text-center\\\">{{ headerRow[0] }}</th>\\n                  <th class=\\\"text-center\\\">{{ headerRow[1] }}</th>\\n                  <th class=\\\"text-center\\\">{{ headerRow[2] }}</th>\\n                  <th class=\\\"text-center\\\">{{ headerRow[3] }}</th>\\n                  <th class=\\\"text-center\\\">{{ headerRow[4] }}</th>\\n                  <th class=\\\"text-center\\\">{{ headerRow[6] }}</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr *ngFor=\\\"let vehicle of filteredRows\\\">\\n                  <td class=\\\"text-center\\\">{{ vehicle?._id }}</td>\\n                  <td class=\\\"text-center\\\">{{ vehicle?.name }}</td>\\n                  <td class=\\\"text-center\\\">{{ vehicle?.createdAt }}</td>\\n                  <td class=\\\"text-center\\\">{{ vehicle?.year }}</td>\\n                  <td class=\\\"td-actions text-center\\\">\\n                    <button\\n                      rel=\\\"tooltip\\\"\\n                      title=\\\"Edit Profile\\\"\\n                      class=\\\"btn btn-success btn-simple btn-xs\\\"\\n                      (click)=\\\"editProfile(vehicle?._id)\\\"\\n                    >\\n                      <i class=\\\"fa fa-edit\\\"></i>\\n                    </button>\\n                    <button\\n                      rel=\\\"tooltip\\\"\\n                      title=\\\"Remove\\\"\\n                      class=\\\"btn btn-danger btn-simple btn-xs\\\"\\n                      (click)=\\\"delete(vehicle?._id)\\\"\\n                    >\\n                      <i class=\\\"fa fa-times\\\"></i>\\n                    </button>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n          <div style=\\\"display: flex; justify-content: center\\\">\\n            <ul class=\\\"pagination\\\">\\n              <li\\n                [class.disabled]=\\\"currentPage === 1\\\"\\n                (click)=\\\"changePage(currentPage - 1)\\\"\\n              >\\n                <a><<</a>\\n              </li>\\n              <li\\n                [class.active]=\\\"currentPage === page\\\"\\n                *ngFor=\\\"let page of totalPagesArray\\\"\\n              >\\n                <a (click)=\\\"changePage(page)\\\">{{ page }}</a>\\n              </li>\\n              <li\\n                [class.disabled]=\\\"currentPage === totalPages\\\"\\n                (click)=\\\"changePage(currentPage + 1)\\\"\\n              >\\n                <a>>></a>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from \"@angular/core\";\nimport { VehicleService } from \"./vehicle.service\";\nimport { Router } from \"@angular/router\";\nimport { map } from \"rxjs/operators\";\n\n@Component({\n  selector: \"app-vehicle\",\n  templateUrl: \"./vehicle.component.html\",\n})\nexport class VehicleComponent implements OnInit {\n  searchQuery: string = \"\";\n  pagesToShow: number = 3;\n  totalPagesArray: any[] = [];\n  filteredRows: any[];\n  currentPage: number = 1;\n  itemsPerPage: number = 10;\n  vehicleList: any[] = [];\n  totalPages: number;\n  headerRow: string[] = [\n    \"ID\",\n    \"Modelo\",\n    \"Chassi\",\n    \"Data cadastro\",\n    \"Ano\",\n    \"Ações\",\n  ];\n  constructor(private vehicleService: VehicleService, private router: Router) {}\n\n  ngOnInit() {\n    this.getAll(false);\n  }\n\n  getAll(event: boolean) {\n    this.vehicleService\n      .getAll()\n      .pipe(map((vehicleResponse) => vehicleResponse.results))\n      .subscribe((vehicleList) => {\n        this.vehicleList = vehicleList;\n        this.totalPages = Math.ceil(\n          this.vehicleList.length / this.itemsPerPage\n        );\n\n        if (event && this.filteredRows.length === 1 && this.currentPage !== 1) {\n          this.currentPage = this.totalPages;\n        }\n\n        this.filteredRows = this.paginate(this.vehicleList);\n        this.totalPagesArray = this.calculateTotalPagesArray(\n          this.currentPage,\n          this.totalPages\n        );\n      });\n  }\n\n  paginate(data: any[]): any[] {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    return data.slice(startIndex, endIndex);\n  }\n\n  calculateTotalPagesArray(currentPage: number, totalPages: number): number[] {\n    const pagesArray: number[] = [];\n    const startPage = Math.max(1, currentPage - this.pagesToShow);\n    const endPage = Math.min(totalPages, currentPage + this.pagesToShow);\n\n    for (let i = startPage; i <= endPage; i++) {\n      pagesArray.push(i);\n    }\n\n    return pagesArray;\n  }\n\n  filterItems() {\n    this.filteredRows = this.paginate(this.vehicleList).filter((vehicle) => {\n      const vehicleValues = Object.keys(vehicle).map(\n        (keyframes) => vehicle[keyframes]\n      );\n      return vehicleValues\n        .toString()\n        .toLowerCase()\n        .includes(this.searchQuery.toLowerCase());\n    });\n  }\n\n  delete(vehicle: string) {\n    this.vehicleService.delete(vehicle).subscribe(() => {\n      this.getAll(true);\n    });\n  }\n\n  editProfile(vehicleId: string): void {\n    this.router.navigate([\"/components/new-vehicle\"], {\n      queryParams: { id: vehicleId },\n    });\n  }\n\n  changePage(page: number): void {\n    if (page >= 1 && page <= this.totalPages) {\n      this.currentPage = page;\n      this.filteredRows = this.paginate(this.vehicleList);\n      this.totalPagesArray = this.calculateTotalPagesArray(\n        this.currentPage,\n        this.totalPages\n      );\n    }\n  }\n}\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { RouterModule } from \"@angular/router\";\nimport { VehicleRoutes } from \"./vehicle.routing\";\nimport { VehicleComponent } from \"./vehicle.component\";\n\n@NgModule({\n  imports: [CommonModule, RouterModule.forChild(VehicleRoutes), FormsModule],\n\n  declarations: [VehicleComponent],\n})\nexport class VehicleModule {}\n","import { Routes } from \"@angular/router\";\nimport { VehicleComponent } from \"./vehicle.component\";\n\nexport const VehicleRoutes: Routes = [\n  {\n    path: \"\",\n    children: [\n      {\n        path: \"\",\n        component: VehicleComponent,\n      },\n    ],\n  },\n];\n"],"sourceRoot":""}