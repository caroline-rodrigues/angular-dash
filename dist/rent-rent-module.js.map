{"version":3,"sources":["webpack:///./src/app/rent/rent.component.html","webpack:///./src/app/rent/rent.component.ts","webpack:///./src/app/rent/rent.module.ts","webpack:///./src/app/rent/rent.routing.ts","webpack:///./src/app/rent/rent.service.ts"],"names":[],"mappings":"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","file":"rent-rent-module.js","sourcesContent":["module.exports = \"<div class=\\\"main-content\\\">\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"card\\\" style=\\\"padding: 0.5rem\\\">\\r\\n          <div class=\\\"header\\\">\\r\\n            <div style=\\\"display: flex; justify-content: space-between\\\">\\r\\n              <h4 class=\\\"title\\\">Aluguel</h4>\\r\\n              <button class=\\\"btn btn-success btn-fill btn-wd\\\">\\r\\n                Novo Aluguel\\r\\n              </button>\\r\\n            </div>\\r\\n            <form role=\\\"search\\\" style=\\\"padding-top: 1rem\\\">\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <input\\r\\n                  type=\\\"text\\\"\\r\\n                  value=\\\"\\\"\\r\\n                  class=\\\"form-control w-100\\\"\\r\\n                  placeholder=\\\"Search...\\\"\\r\\n                  [(ngModel)]=\\\"searchQuery\\\"\\r\\n                  name=\\\"search\\\"\\r\\n                />\\r\\n                <span class=\\\"input-group-addon\\\">\\r\\n                  <i class=\\\"fa fa-search\\\"></i>\\r\\n                </span>\\r\\n              </div>\\r\\n            </form>\\r\\n          </div>\\r\\n          <div class=\\\"content table-responsive table-full-width\\\">\\r\\n            <table class=\\\"table\\\" (onDeleteRent)=\\\"onDeletedRent($event)\\\">\\r\\n              <thead>\\r\\n                <tr>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[0] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[1] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[2] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[3] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[4] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[5] }}</th>\\r\\n                  <th class=\\\"text-center\\\">{{ headerRow[6] }}</th>\\r\\n                </tr>\\r\\n              </thead>\\r\\n              <tbody>\\r\\n                <tr *ngFor=\\\"let row of rows\\\">\\r\\n                  <td class=\\\"text-center\\\">{{ row?.rent?._id }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ row?.client?.name }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ row?.client?.cpf }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ row?.rent?.endDate }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ row?.vehicle?.brand }}</td>\\r\\n                  <td class=\\\"text-center\\\">{{ row?.rent?.situation }}</td>\\r\\n                  <td class=\\\"td-actions text-center\\\">\\r\\n                    <button\\r\\n                      rel=\\\"tooltip\\\"\\r\\n                      title=\\\"Edit Profile\\\"\\r\\n                      class=\\\"btn btn-success btn-simple btn-xs\\\"\\r\\n                    >\\r\\n                      <i class=\\\"fa fa-edit\\\"></i>\\r\\n                    </button>\\r\\n                    <button\\r\\n                      rel=\\\"tooltip\\\"\\r\\n                      title=\\\"Remove\\\"\\r\\n                      class=\\\"btn btn-danger btn-simple btn-xs\\\"\\r\\n                      (click)=\\\"delete(row?.rent?._id)\\\"\\r\\n                    >\\r\\n                      <i class=\\\"fa fa-times\\\"></i>\\r\\n                    </button>\\r\\n                  </td>\\r\\n                </tr>\\r\\n              </tbody>\\r\\n            </table>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, EventEmitter, OnInit, Output } from \"@angular/core\";\r\nimport { Rent } from \"./rent\";\r\nimport { RentService } from \"./rent.service\";\r\nimport { debounceTime, distinctUntilChanged, map } from \"rxjs/operators\";\r\nimport { Subject } from \"rxjs\";\r\n\r\ndeclare interface TableData {\r\n  headerRow: string[];\r\n  dataRows: string[][];\r\n}\r\n\r\ninterface Row {\r\n  rent?: {\r\n    _id: string;\r\n    endDate: string;\r\n    situation: string;\r\n  };\r\n  client?: {\r\n    name: string;\r\n    cpf: string;\r\n  };\r\n  vehicle?: {\r\n    brand: string;\r\n  };\r\n}\r\n\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: \"rent-cmp\",\r\n  templateUrl: \"./rent.component.html\",\r\n})\r\nexport class RentComponent implements OnInit {\r\n  searchQuery: string;\r\n  filteredRows: Row[];\r\n  rows: Row[];\r\n  rentList: any[] = [];\r\n  headerRow: string[] = [\r\n    \"ID\",\r\n    \"Nome\",\r\n    \"CPF\",\r\n    \"Data devolução\",\r\n    \"Modelo\",\r\n    \"Situação\",\r\n    \"Ações\",\r\n  ];\r\n\r\n  @Output()\r\n  onDeleteRent = new EventEmitter();\r\n\r\n  private searchQueryChanged = new Subject<string>();\r\n\r\n  constructor(private rentService: RentService) {}\r\n\r\n  ngOnInit() {\r\n    this.rows = [\r\n      {\r\n        rent: {\r\n          _id: \"1\",\r\n          endDate: \"2023-07-20\",\r\n          situation: \"active\",\r\n        },\r\n        client: {\r\n          name: \"John Doe\",\r\n          cpf: \"12345678901\",\r\n        },\r\n        vehicle: {\r\n          brand: \"Toyota\",\r\n        },\r\n      },\r\n      {\r\n        rent: {\r\n          _id: \"2\",\r\n          endDate: \"2023-07-22\",\r\n          situation: \"inactive\",\r\n        },\r\n        client: {\r\n          name: \"Jane Smith\",\r\n          cpf: \"98765432109\",\r\n        },\r\n        vehicle: {\r\n          brand: \"Honda\",\r\n        },\r\n      },\r\n      {\r\n        rent: {\r\n          _id: \"3\",\r\n          endDate: \"2023-07-25\",\r\n          situation: \"active\",\r\n        },\r\n        client: {\r\n          name: \"Michael Johnson\",\r\n          cpf: \"45678912304\",\r\n        },\r\n        vehicle: {\r\n          brand: \"Ford\",\r\n        },\r\n      },\r\n      {\r\n        rent: {\r\n          _id: \"4\",\r\n          endDate: \"2023-07-30\",\r\n          situation: \"inactive\",\r\n        },\r\n        client: {\r\n          name: \"Emily Davis\",\r\n          cpf: \"65432198706\",\r\n        },\r\n        vehicle: {\r\n          brand: \"Chevrolet\",\r\n        },\r\n      },\r\n      {\r\n        rent: {\r\n          _id: \"5\",\r\n          endDate: \"2023-08-02\",\r\n          situation: \"active\",\r\n        },\r\n        client: {\r\n          name: \"Daniel Wilson\",\r\n          cpf: \"78912345603\",\r\n        },\r\n        vehicle: {\r\n          brand: \"Volkswagen\",\r\n        },\r\n      },\r\n    ];\r\n    this.filteredRows = this.rows;\r\n    this.searchQueryChanged\r\n      .pipe(debounceTime(300), distinctUntilChanged())\r\n      .subscribe((query) => {\r\n        this.search(query);\r\n      });\r\n    // this.rentService.getAll().subscribe((rent) => {\r\n    //   this.rentList = rent;\r\n    // });\r\n    // this.rentService\r\n    //   .getAll()\r\n    //   .pipe(\r\n    //     map((rentResponse) => {\r\n    //       rentResponse?.results;\r\n    //     })\r\n    //   )\r\n    //   .subscribe((rent) => {\r\n    //     this.rentList = rent;\r\n    //   });\r\n\r\n    this.rentService\r\n      .getAll()\r\n      .pipe(map((rentResponse) => rentResponse.filteredEntityResults))\r\n      .subscribe((rent) => {\r\n        this.rentList.push(...rent);\r\n        // this.rentList = this.rentList.flat()\r\n      });\r\n    console.log(\"sub\", this.rentList);\r\n    // console.log(this.rentList);\r\n\r\n    // this.rentTable.dataRows.\r\n\r\n    // this.rentTable.headerRow = [\r\n    //   \"#\",\r\n    //   \"Name\",\r\n    //   \"Job Position\",\r\n    //   \"Since\",\r\n    //   \"Salary\",\r\n    //   \"Actions\",\r\n    // ];\r\n    // this.rentList.forEach((rent) => {\r\n    //   this.rentTable.dataRows.push(rent);\r\n    // });\r\n  }\r\n\r\n  search(query: string): void {\r\n    if (query) {\r\n      this.filteredRows = this.rows.filter((row) => {\r\n        return (\r\n          row.client.name.toLowerCase().includes(query.toLowerCase()) ||\r\n          row.client.cpf.includes(query.toLowerCase()) ||\r\n          row.rent._id.includes(query.toLowerCase()) ||\r\n          row.rent.endDate.includes(query.toLowerCase()) ||\r\n          row.vehicle.brand.toLowerCase().includes(query.toLowerCase()) ||\r\n          row.rent.situation.toLowerCase().includes(query.toLowerCase())\r\n        );\r\n      });\r\n    } else {\r\n      this.filteredRows = this.rows;\r\n    }\r\n  }\r\n\r\n  delete(id: string) {\r\n    this.rentService.delete(id).subscribe(() => {\r\n      this.onDeleteRent.emit(id);\r\n      console.log(\"delete\", id);\r\n    });\r\n  }\r\n\r\n  onDeletedRent(id: string) {\r\n    console.log(\"id\", id);\r\n    if (id) {\r\n      console.log(\"opaaa\");\r\n      const index = this.rentList.findIndex(\r\n        (rentItem) => rentItem.rent._id == id\r\n      );\r\n      this.rentList.splice(index, 1);\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { RouterModule } from \"@angular/router\";\nimport { RentComponent } from \"./rent.component\";\nimport { RentRoutes } from \"./rent.routing\";\n\n@NgModule({\n  imports: [CommonModule, RouterModule.forChild(RentRoutes), FormsModule],\n\n  declarations: [RentComponent],\n})\nexport class RentModule {}\n","import { Routes } from \"@angular/router\";\r\nimport { RentComponent } from \"./rent.component\";\r\n\r\nexport const RentRoutes: Routes = [\r\n  {\r\n    path: \"\",\r\n    children: [\r\n      {\r\n        path: \"\",\r\n        component: RentComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { Injectable } from \"@angular/core\";\nimport { Rent } from \"./rent\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { environment } from \"environments/environment\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RentService {\n  constructor(private http: HttpClient) {}\n\n  getAll() {\n    return this.http.get<any>(`${environment.api}/rent/findAll`);\n  }\n\n  delete(id: string) {\n    console.log(\"opa\", id);\n    return this.http.delete<any>(`${environment.api}/rent/delete/${id}\n    `);\n  }\n}\n"],"sourceRoot":""}